<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Omniscient.js</title>
  <meta name="description" content="A library providing an abstraction for React components that allows for fast top-down rendering embracing immutable data for js.
">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/kimbie.dark.min.css">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://omniscientjs.github.io//api/">
  <link rel="alternate" type="application/rss+xml" title="Omniscient.js" href="http://omniscientjs.github.io//feed.xml" />

  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
</head>

  <body class="withSmallHeader">
    <header class="mainHeader mainHeader--small">
      <nav class="mainNavigation">
  <div class="mainNavigation-inner">
    <h1>
      <a href="/">
        <svg width="50px" height="25px" viewBox="0 0 600 400" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" preserveAspectRatio="xMinYMax meet">
         <g>
          <title>Layer 1</title>
          <path fill="black" d="m416.873962,103.126556c25.875885,25.8759 40.126068,60.279999 40.126068,96.873978s-14.250702,70.997604 -40.126068,96.873428c-25.876404,25.875366 -60.279999,40.126038 -96.873932,40.126038s-70.997589,-14.250671 -96.873993,-40.126038c-25.875351,-25.875824 -40.126053,-60.279449 -40.126053,-96.873428s14.249634,-70.998093 40.126053,-96.873978s60.279968,-40.126556 96.873993,-40.126556s70.997528,14.250671 96.873932,40.126556zm-12.109436,181.638428c16.872894,-16.872925 28.091919,-37.891312 32.717834,-60.756882c-3.605408,5.307693 -7.054443,7.277054 -9.189819,-4.603958c-2.199463,-19.37001 -19.990173,-6.996109 -31.177582,-13.876587c-11.774506,7.935806 -38.238556,-15.429062 -33.741058,10.923599c6.939331,11.886398 37.463074,-15.908005 22.248596,9.242767c-9.706177,17.557953 -35.492126,56.44072 -32.137756,76.596359c0.423279,29.365082 -30.004639,6.12323 -40.488342,-3.617737c-7.052277,-19.511749 -2.403381,-53.616165 -20.843781,-63.171387c-20.015381,-0.869095 -37.194427,-2.68811 -44.951538,-25.064056c-4.668152,-16.008682 4.967316,-39.84079 22.122833,-43.519989c25.112213,-15.77803 34.082458,18.477341 57.633636,19.114182c7.312408,-7.651138 27.243744,-10.083954 28.896362,-18.663574c-15.452667,-2.726624 19.604858,-12.993073 -1.479218,-18.832657c-11.631653,1.367828 -19.125916,12.060776 -12.942749,21.127396c-22.540314,5.255783 -23.262207,-32.61879 -44.929047,-20.672546c-0.550659,18.888336 -35.379791,6.123779 -12.05069,2.293671c8.015564,-3.502045 -13.073914,-13.650772 -1.680359,-11.806595c5.596619,-0.303986 24.438416,-6.906754 19.339447,-11.345871c10.49176,-6.512856 19.308472,15.597137 29.577576,-0.503555c7.414032,-12.379776 -3.109314,-14.665443 -12.402313,-8.390175c-5.239136,-5.866417 9.250214,-18.536766 22.030273,-24.011932c4.259308,-1.824898 8.327606,-2.819214 11.437988,-2.537704c6.437317,7.436531 18.342377,8.72464 18.965332,-0.894264c-15.942291,-7.635071 -33.520569,-11.668556 -51.720123,-11.668556c-26.121552,0 -50.965668,8.301338 -71.525818,23.651237c5.525497,2.531273 8.662079,5.682831 3.338867,9.712013c-4.135681,12.323067 -20.91658,28.865273 -35.647858,26.52343c-7.648972,13.190521 -12.686386,27.722687 -14.839874,42.953796c12.338593,4.082153 15.183472,12.161407 12.532303,14.863937c-6.287018,5.482147 -10.150848,13.253189 -12.141647,21.760544c4.016357,24.573288 15.565536,47.220566 33.519516,65.175095c22.641373,22.640869 52.744461,35.109924 84.764511,35.109924c32.01944,0 62.123016,-12.469116 84.764496,-35.109924l0,0z" id="svg_7" stroke="null"/>
          <path fill="black" id="svg_4" d="m320,5.3125c-194.6875,0 -311.5,193.480423 -311.5,193.480423s116.8125,195.894577 311.5,195.894577s311.5,-194.6875 311.5,-194.6875s-116.8125,-194.6875 -311.5,-194.6875zm0,350.4375c-170.351563,0 -262.828125,-155.75 -262.828125,-155.75s92.476563,-155.75 262.828125,-155.75s262.828125,155.75 262.828125,155.75s-92.476563,155.75 -262.828125,155.75z"/>
         </g>
        </svg>
      </a>
    </h1>

    <ul>
      <li><a href="/guides">Guides</a></li>
      <li><a href="/api">API</a></li>
      <li><a href="/tutorials">Tutorials</a></li>
    </ul>
  </div>
</nav>
    </header>

    <main class="mainContent js-tutorials-content" id="content">
      <div class="nav-left">
  
    <div class="guides-left-collection">
      <h3><a href="/guides">Guides</a></h3>
      <ol>
        
        
        
        
          <li>
            <a href="/guides/01-simpler-ui-reasoning-with-unidirectional">Simpler UI Reasoning with Unidirectional Dataflow and Immutable Data</a>
          </li>
        
        
        
          <li>
            <a href="/guides/02-editing-using-immutable-cursors-with-omniscient">Editing Using Immutable Cursors with Omniscient</a>
          </li>
        
        
      </ol>
    </div>
  
    <div class="guides-left-collection">
      <h3><a href="/tutorials">Tutorials</a></h3>
      <ol>
        
        
        
        
          <li>
            <a href="/tutorials/01-editing-basic-tutorial-creating-list-with-live-filtering">Editing Basic Tutorial Creating List with Live Filtering</a>
          </li>
        
        
        
          <li>
            <a href="/tutorials/02-editing-basic-tutorial-creating-list-with-live-filtering-jsx-edition">Editing Basic Tutorial Creating List with Live Filtering - JSX Edition</a>
          </li>
        
        
      </ol>
    </div>
  
</div>

      <section class="column" id="content">
        <p>Given that:</p>

<pre><code>var component = require('omniscient');
</code></pre>

<h2 id="componentdisplayname-mixins-function-props-statics--"><code>component([displayName, ][mixins, ]function (props, statics) { })</code></h2>

<p>The API of Omniscient is pretty simple, you create a component with a render function, and mixins if you need them. When using the created component, you can pass a cursor or an object as data to the component. If you simply pass a cursor, the cursor will be accessible on the <code>props.cursor</code> accessor. This data will be accessible in the render function of the component (as props). In the passed data object, if it’s within the <code>statics</code> property, the changes won’t get tracker (see below).</p>

<h3 id="parameter-setup">Parameter Setup</h3>
<pre><code>var MyComponent = component([displayName, ][mixins, ]function (props, statics) { });
MyComponent([key: String, ](Object: data | Cursor));
</code></pre>

<h3 id="examples">Examples</h3>

<pre><code>// Create component with display name MyComponentName
var MyComponent = component(function MyComponentName (props) {
  return (&lt;div&gt;Hello {props.cursor.get('name')}&lt;/div&gt;);
});
React.render(MyComponent(myCursor), document.body);
</code></pre>

<p>Without cursor<br />
<code>
var MyComponent = component(function MyComponentName (props) {
  return (&lt;div&gt;Hello {props.name}&lt;/div&gt;);
});
React.render(MyComponent({ name: 'Omniscient'), document.body);
</code></p>

<p>As JSX<br />
<code>
var MyComponent = component(function MyComponentName (props) {
  return (&lt;div&gt;Hello {props.name}&lt;/div&gt;);
}).jsx; // notice jsx
React.render(&lt;MyComponent name={'Omniscient'} /&gt;, document.body);
</code></p>

<p>With mixins:<br />
<code>
var myMixins = {
  componentDidMount: function () {
     // do something
  },
  componentDidUnmount: function () {
     // do something else
  }
};
var MyComponent = component(myMixins, function MyComponentName (props) {
  return (&lt;div&gt;Hello {props.name}&lt;/div&gt;);
}).jsx; // notice jsx
React.render(&lt;MyComponent name={'Omniscient'} /&gt;, document.body);
</code></p>

<p>With multiple mixins (compositions):<br />
```<br />
var someMixins = {<br />
  componentDidMount: function () {<br />
     // do something<br />
  },<br />
  componentDidUnmount: function () {<br />
     // do something else<br />
  }<br />
};<br />
var otherMixins = {<br />
  doSomething: function (input) {<br />
     // do something with input foo<br />
  }<br />
};</p>

<p>var mixins = [someMixins].concat(otherMixins);<br />
var MyComponent = component(mixins, function MyComponentName (props) {<br />
  this.doSomething(‘foo’);<br />
  return (&lt;div&gt;Hello {props.name}&lt;/div&gt;);<br />
}).jsx; // notice jsx<br />
React.render(&lt;MyComponent name={‘Omniscient’} /&gt;, document.body);<br />
```</p>

<h4 id="with-es2015-syntax">With ES2015 syntax</h4>
<pre><code>// Create component with display name MyComponentName
var MyComponent = component('MyComponentName', ({name}) =&gt; (&lt;div&gt;Hello {name}&lt;/div&gt;));
React.render(&lt;MyComponent name={'Omniscient'} /&gt;, document.body);
</code></pre>
<p><em>Notice: As we can’t use a named function, we can define component name as first argument.</em></p>

<h2 id="componentdebug"><code>component.debug()</code></h2>
<p>Activate debugging. Debug when a component is rendered, and the decision of <code>shouldComponentUpdate</code>.</p>

<h2 id="componentdebugpattern"><code>component.debug(pattern)</code></h2>
<p>Activate debugging. Pattern is a Regular Expression. Only log messages which matches passed regex.</p>

<h3 id="example">Example</h3>
<p>Only show debug statements for components with key or name <code>MyComponent</code>.<br />
<code>
component.debug(/MyComponent/i)
</code></p>

<h2 id="componentdebuglogfunction"><code>component.debug(logFunction)</code></h2>
<p>Activate debug, and define how to log messages. Log all messages (do not filter on any regex.)</p>

<h3 id="example-1">Example</h3>

<pre><code>component.debug(function (debugMessage) {
  saveMessageToFile(debugMessage);
});
</code></pre>

<h2 id="componentdebugpattern-logfunction"><code>component.debug(pattern, logFunction)</code></h2>
<p>Activate debug, for messages matching passed regex pattern and pass log message to <code>logFunction</code> instead of logging to <code>console.debug</code>.</p>

<h3 id="example-2">Example</h3>

<pre><code>component.debug(/MyComponent/i, function (debugMessage) {
  saveMessageToFile(debugMessage);
});
</code></pre>

<h2 id="componentshouldcomponentupdate"><code>component.shouldComponentUpdate</code></h2>

<p>This is the mixin used to determine if a component should update or not. If you like the architectural concept of Omniscient, but not the syntactic sugar, you can override the <code>shouldComponentUpdate</code> of your vanilla React component with this mixin, and you can use cursors!</p>

<p>You can also directly require the mixin, to save bytes in your source code:</p>

<pre><code>var shouldComponentUpdate = require('omniscient/shouldupdate');
</code></pre>

<h3 id="example-3">Example</h3>

<p>Through omniscient:<br />
```<br />
var shouldComponentUpdate = require(‘omniscient’).shouldComponentUpdate;</p>

<p>var MyComponent = React.createClass({<br />
   mixins: [{ shouldComponentUpdate: shouldComponentUpdate }],<br />
  render: function () { /* your render function */ }<br />
```</p>

<p>Requiring directly<br />
```<br />
var shouldComponentUpdate = require(‘omniscient/shouldupdate’);</p>

<p>var MyComponent = React.createClass({<br />
   mixins: [{ shouldComponentUpdate: shouldComponentUpdate }],<br />
  render: function () { /* your render function */ }<br />
```</p>

<h2 id="componentwithdefaultsobject-defaults"><code>component.withDefaults([Object: defaults])</code></h2>

<p>You can create a “local” instance of the Omniscient component creator by using the <code>.withDefaults</code> methods. This also allows you to override any defaults that Omniscient uses to check equality of objects, unwrap cursors, etc. See below on section about defaults for what to override.</p>

<h3 id="sandboxed-component-example">“Sandboxed” component Example</h3>
<pre><code>var component = require('omniscient');

// Create a local component factory with "normal" defaults
var localComponent = component.withDefaults();
localComponent.foo = 'foo';

assert(localComponent.foo !== component.foo);
</code></pre>

<p><strong>You can use all the functions on local <code>omniscient</code> instances as you can on regular instances</strong></p>

<h3 id="omniscient-defaults">Omniscient Defaults</h3>

<p>This is an overview of all properties that can be overridden in Omniscient. All properties are functions that have default implementations, and can be overwritten (just for the local component which is returned).</p>

<pre><code>var component = require('omniscient');

var localComponent = component.withDefaults({
  shouldComponentUpdate: function(nextProps, nextState), // check update
  isCursor: function(cursor), // check if is props
  isEqualCursor: function (oneCursor, otherCursor), // check cursor
  isEqualState: function (currentState, nextState), // check state
  isEqualProps: function (currentProps, nextProps), // check props
  unCursor: function (cursor) // convert from cursor to object
});
</code></pre>

<h2 id="shouldcomponentupdatewithdefaultsobject-defaults"><code>shouldComponentUpdate.withDefaults([Object: defaults])</code></h2>

<p>As with the component creator, you can create local instances of <code>shouldComponentUpdate</code> with overwritten defaults. Actually, most functions you can override on <code>component</code> object, is just passed on to <code>shouldComponentUpdate</code>.</p>

<p>This is a complete overview of the defaults you can override on <code>shouldComponentUpdate</code>:</p>

<pre><code>var shouldComponentUpdate = require('omniscient/shouldupdate');

var localShouldUpdate = shouldComponentUpdate.withDefaults({
  isCursor: function(cursor), // check if is props
  isEqualCursor: function (oneCursor, otherCursor), // check cursor
  isEqualState: function (currentState, nextState), // check state
  isEqualProps: function (currentProps, nextProps), // check props
  unCursor: function (cursor) // convert from cursor to object
});
</code></pre>

      </section>
    </main>
    <a href="https://github.com/omniscientjs/" class="link--github">Fork on Github</a>
  </body>
</html>